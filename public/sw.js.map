{"version":3,"sources":["sw-dev.js"],"names":["staticCacheName","imagesCacheName","allCaches","statics","images","self","addEventListener","event","waitUntil","caches","open","then","cache","addAll","keys","cacheNames","Promise","all","filter","name","startsWith","includes","map","delete","request","method","respondWith","match","ignoreSearch","response","mode","fetch","data","action","skipWaiting"],"mappings":"AAAA,MAAAA,gBAAA,oBACAC,gBAAA,wBACAC,WACAF,gBACAC,iBAGAE,SACA,gBACA,cACA,aACA,kBACA,eACA,iBACA,wBACA,cAGAC,QACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,eACA,8BACA,6BACA,6BACA,+BACA,+BACA,+BACA,+BACA,+BACA,gCAGAC,KAAAC,iBAAA,UAAAC,IACAA,EAAAC,UACAC,OAAAC,KAAAV,iBAAAW,KAAAC,GAAAA,EAAAC,OAAAV,UAAAQ,KAAA,IAAAF,OAAAC,KAAAT,iBAAAU,KAAAC,GAAAA,EAAAC,OAAAT,aAIAC,KAAAC,iBAAA,WAAAC,IACAA,EAAAC,UACAC,OAAAK,OAAAH,KAAAI,GACAC,QAAAC,IAAAF,EAAAG,OAAAC,GAAAA,EAAAC,WAAA,oBAAAlB,UAAAmB,SAAAF,IAAAG,IAAAV,GAAAH,OAAAc,OAAAX,SAKAP,KAAAC,iBAAA,QAAAC,IACA,QAAAA,EAAAiB,QAAAC,QACAlB,EAAAmB,YACAjB,OAAAkB,MAAApB,EAAAiB,SAAAI,cAAA,IAAAjB,KAAAkB,IACA,GAAA,mBAAAtB,EAAAiB,QAAAZ,OAAA,gBAAAL,EAAAiB,QAAAM,KAEA,OAAAD,GAAAE,MAAAxB,EAAAiB,cAMAnB,KAAAC,iBAAA,UAAA,SAAAC,GACA,gBAAAA,EAAAyB,KAAAC,QACA5B,KAAA6B","file":"sw.js","sourcesContent":["const staticCacheName = 'mws-restaurant-v4';\nconst imagesCacheName = 'mws-restaurant-images';\nconst allCaches = [\n  staticCacheName,\n  imagesCacheName\n];\n\nconst statics = [\n  'manifest.json',\n  'favicon.ico',\n  'index.html',\n  'restaurant.html',\n  'js/vendor.js',\n  'css/styles.css',\n  'js/restaurant_info.js',\n  'js/main.js'\n];\n\nconst images = [\n  '/img/1.webp',\n  '/img/2.webp',\n  '/img/3.webp',\n  '/img/4.webp',\n  '/img/5.webp',\n  '/img/6.webp',\n  '/img/7.webp',\n  '/img/8.webp',\n  '/img/9.webp',\n  '/img/10.webp',\n  '/img/no_restaurant_img.webp',\n  '/img/icons/icon-72x72.webp',\n  '/img/icons/icon-96x96.webp',\n  '/img/icons/icon-128x128.webp',\n  '/img/icons/icon-144x144.webp',\n  '/img/icons/icon-152x152.webp',\n  '/img/icons/icon-192x192.webp',\n  '/img/icons/icon-384x384.webp',\n  '/img/icons/icon-512x512.webp',\n];\n\nself.addEventListener('install', event => {\n  event.waitUntil(\n    caches.open(staticCacheName).then((cache) => cache.addAll(statics)).then(() => caches.open(imagesCacheName).then((cache) => cache.addAll(images)))\n  );\n});\n\nself.addEventListener('activate', (event) => {\n  event.waitUntil(\n    caches.keys().then((cacheNames) => {\n      return Promise.all(cacheNames.filter(name => name.startsWith('mws-restaurant') && !allCaches.includes(name)).map((cache) => caches.delete(cache)));\n    })\n  );\n});\n\nself.addEventListener('fetch', (event) => {\n  if (event.request.method === 'GET') {\n    event.respondWith(\n      caches.match(event.request, {ignoreSearch: true}).then(response => {\n        if (event.request.cache === 'only-if-cached' && event.request.mode !== 'same-origin') return;\n\n        return response || fetch(event.request); //caches.open('mws-restaurant').then(cache => fetch(event.request).then(response => cache.put(event.request, response.clone()).then(() => response)));\n      })\n    );\n  }\n});\n\nself.addEventListener('message', function (event) {\n  if (event.data.action === 'skipWaiting') {\n    self.skipWaiting();\n  }\n});"]}